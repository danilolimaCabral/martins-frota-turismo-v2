{
  "query": "\nCREATE TABLE IF NOT EXISTS templates_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  nome VARCHAR(100) NOT NULL,\n  tipo_veiculo ENUM('van', 'onibus', 'micro-onibus', 'carro') NOT NULL,\n  ativo BOOLEAN DEFAULT TRUE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS itens_template_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  template_id INT NOT NULL,\n  categoria VARCHAR(50) NOT NULL,\n  descricao TEXT NOT NULL,\n  ordem INT NOT NULL,\n  obrigatorio BOOLEAN DEFAULT TRUE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (template_id) REFERENCES templates_checklist(id) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS checklists (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  veiculo_id INT NOT NULL,\n  motorista_id INT NOT NULL,\n  template_id INT NOT NULL,\n  km_atual INT NOT NULL,\n  data_realizacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  observacoes TEXT,\n  status ENUM('em_andamento', 'concluido', 'cancelado') DEFAULT 'em_andamento' NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (veiculo_id) REFERENCES vehicles(id) ON DELETE CASCADE,\n  FOREIGN KEY (template_id) REFERENCES templates_checklist(id)\n);\n\nCREATE TABLE IF NOT EXISTS respostas_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  checklist_id INT NOT NULL,\n  item_id INT NOT NULL,\n  resposta ENUM('ok', 'problema', 'nao_aplicavel') NOT NULL,\n  observacao TEXT,\n  foto_url VARCHAR(500),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (checklist_id) REFERENCES checklists(id) ON DELETE CASCADE,\n  FOREIGN KEY (item_id) REFERENCES itens_template_checklist(id)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4GH8MCSqhpmNowN.efeda4e2cea8 --database fsPfZDk4yqhxEkCbsNC9Vh --execute \nCREATE TABLE IF NOT EXISTS templates_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  nome VARCHAR(100) NOT NULL,\n  tipo_veiculo ENUM('van', 'onibus', 'micro-onibus', 'carro') NOT NULL,\n  ativo BOOLEAN DEFAULT TRUE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS itens_template_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  template_id INT NOT NULL,\n  categoria VARCHAR(50) NOT NULL,\n  descricao TEXT NOT NULL,\n  ordem INT NOT NULL,\n  obrigatorio BOOLEAN DEFAULT TRUE NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (template_id) REFERENCES templates_checklist(id) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS checklists (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  veiculo_id INT NOT NULL,\n  motorista_id INT NOT NULL,\n  template_id INT NOT NULL,\n  km_atual INT NOT NULL,\n  data_realizacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  observacoes TEXT,\n  status ENUM('em_andamento', 'concluido', 'cancelado') DEFAULT 'em_andamento' NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (veiculo_id) REFERENCES vehicles(id) ON DELETE CASCADE,\n  FOREIGN KEY (template_id) REFERENCES templates_checklist(id)\n);\n\nCREATE TABLE IF NOT EXISTS respostas_checklist (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  checklist_id INT NOT NULL,\n  item_id INT NOT NULL,\n  resposta ENUM('ok', 'problema', 'nao_aplicavel') NOT NULL,\n  observacao TEXT,\n  foto_url VARCHAR(500),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (checklist_id) REFERENCES checklists(id) ON DELETE CASCADE,\n  FOREIGN KEY (item_id) REFERENCES itens_template_checklist(id)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 819
}